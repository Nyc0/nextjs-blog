<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><meta name="description" content="Learn how to build a personal website using Next.js"/><meta property="og:image" content="https://og-image.vercel.app/Nicolas%20Grymonprez%20Next.js%20website.png?theme=light&amp;md=0&amp;fontSize=75px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><meta name="og:title" content="Nicolas Grymonprez Next.js website"/><meta name="twitter:card" content="summary_large_image"/><link rel="preload" as="image" imageSrcSet="https://nicolasgrymonprezblog.imgix.net/images/profile.jpg?auto=format&amp;fit=max&amp;w=128&amp;q=75 1x, https://nicolasgrymonprezblog.imgix.net/images/profile.jpg?auto=format&amp;fit=max&amp;w=256&amp;q=75 2x"/><title>Sitemap-generation</title><meta name="next-head-count" content="9"/><link rel="preload" href="/nextjs-blog/_next/static/css/ae29e5bd7a5d97f7.css" as="style"/><link rel="stylesheet" href="/nextjs-blog/_next/static/css/ae29e5bd7a5d97f7.css" data-n-g=""/><link rel="preload" href="/nextjs-blog/_next/static/css/8ef1d9df64432733.css" as="style"/><link rel="stylesheet" href="/nextjs-blog/_next/static/css/8ef1d9df64432733.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/nextjs-blog/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/nextjs-blog/_next/static/chunks/webpack-48f9d1593f756812.js" defer=""></script><script src="/nextjs-blog/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/nextjs-blog/_next/static/chunks/main-563332d1bed34e12.js" defer=""></script><script src="/nextjs-blog/_next/static/chunks/pages/_app-ab586ae0dd9347a1.js" defer=""></script><script src="/nextjs-blog/_next/static/chunks/247-0527e59bd53fb50e.js" defer=""></script><script src="/nextjs-blog/_next/static/chunks/358-14c60bb94e9d94b9.js" defer=""></script><script src="/nextjs-blog/_next/static/chunks/pages/posts/%5Bid%5D-802685477116f1c8.js" defer=""></script><script src="/nextjs-blog/_next/static/MaZoeJvTcSRFlA3O6TMpU/_buildManifest.js" defer=""></script><script src="/nextjs-blog/_next/static/MaZoeJvTcSRFlA3O6TMpU/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="layout_container__fbLkO"><header class="layout_header__kY0Lt"><a href="/nextjs-blog"><img alt="" width="108" height="108" decoding="async" data-nimg="1" class="utils_borderCircle__s2nTm" style="color:transparent" srcSet="https://nicolasgrymonprezblog.imgix.net/images/profile.jpg?auto=format&amp;fit=max&amp;w=128&amp;q=75 1x, https://nicolasgrymonprezblog.imgix.net/images/profile.jpg?auto=format&amp;fit=max&amp;w=256&amp;q=75 2x" src="https://nicolasgrymonprezblog.imgix.net/images/profile.jpg?auto=format&amp;fit=max&amp;w=256&amp;q=75"/></a><h2 class="utils_headingLg__5535D"><a class="utils_colorInherit__mSH_x" href="/nextjs-blog">Nicolas Grymonprez</a></h2></header><main><article><h1 class="utils_headingXl__u25Y2">Sitemap-generation</h1><div class="utils_lightText__eUzGY"><time dateTime="2023-04-07">April 7, 2023</time></div><div><p>In order to improve the SEO of my blog I looked into the following <a href="https://nextjs.org/learn/seo/introduction-to-seo/importance-of-seo">Next.js tutorial</a>.</p>
<p>This lead me to create a robot.txt and generate sitemap.xml.</p>
<p>The later was complex as the tutorial go through Service Side generation on demand with the getServerSideProps function and using an API. Which was only working when running the Next.js app locally (<code>npm run dev</code>).
I then attempted to modify this example to use the getStaticProps function, but I was only generating HTML content, and I couldn't find any way to create a xml file.</p>
<p>I found another <a href="https://www.technouz.com/5086/how-to-create-a-sitemap-xml-file-for-next-js/">tutorial</a> but that was only generating the sitemap.xml from a static table. Since I didn't have an API avialable I tried importing fs to read the posts directory but imports are not allowed in a module.</p>
<p>However that last tutorial introduced me to postexport functionalities and I decided to create a Python script that generates the sitemap.xml whenever the site gets deployed.</p>
<p>This is now working! My <a href="https://nicolas.grymonprez.com/sitemap.xml">sitemap</a></p>
</div></article></main><div class="layout_backToHome__9sjx_"><a href="/nextjs-blog">‚Üê Back to home</a></div></div>;</div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"Sitemap-generation","contentHtml":"\u003cp\u003eIn order to improve the SEO of my blog I looked into the following \u003ca href=\"https://nextjs.org/learn/seo/introduction-to-seo/importance-of-seo\"\u003eNext.js tutorial\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThis lead me to create a robot.txt and generate sitemap.xml.\u003c/p\u003e\n\u003cp\u003eThe later was complex as the tutorial go through Service Side generation on demand with the getServerSideProps function and using an API. Which was only working when running the Next.js app locally (\u003ccode\u003enpm run dev\u003c/code\u003e).\nI then attempted to modify this example to use the getStaticProps function, but I was only generating HTML content, and I couldn't find any way to create a xml file.\u003c/p\u003e\n\u003cp\u003eI found another \u003ca href=\"https://www.technouz.com/5086/how-to-create-a-sitemap-xml-file-for-next-js/\"\u003etutorial\u003c/a\u003e but that was only generating the sitemap.xml from a static table. Since I didn't have an API avialable I tried importing fs to read the posts directory but imports are not allowed in a module.\u003c/p\u003e\n\u003cp\u003eHowever that last tutorial introduced me to postexport functionalities and I decided to create a Python script that generates the sitemap.xml whenever the site gets deployed.\u003c/p\u003e\n\u003cp\u003eThis is now working! My \u003ca href=\"https://nicolas.grymonprez.com/sitemap.xml\"\u003esitemap\u003c/a\u003e\u003c/p\u003e\n","title":"Sitemap-generation","date":"2023-04-07"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"Sitemap-generation"},"buildId":"MaZoeJvTcSRFlA3O6TMpU","assetPrefix":"/nextjs-blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>